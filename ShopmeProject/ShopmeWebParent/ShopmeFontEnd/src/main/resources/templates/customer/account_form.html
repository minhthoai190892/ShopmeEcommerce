<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments::page_head('Your Account Details','none')"> </head>

<body>
    <div class="container-fluid">
        <!-- menu -->
        <div th:replace="navigation::head_menu"> </div>

        <div class="text-center">
            <h2>Your Customer Details</h2>
        </div>
        <div th:replace="fragments::message"> </div>
        <form th:action="@{/update_account_details}" th:object="${customer}" method="post"
            style="max-width:600px ; margin: 0 auto;">
            <input type="hidden" name="" th:field="*{id}">
            <div class="border border-secondary rounded p-3">
                <!--Authentication Type -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Authentication Type:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{authenticationType}" class="form-control" disabled>
                    </div>
                </div>
                <!-- E-mail -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">E-mail:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{email}" class="form-control" disabled>
                    </div>
                </div>
                <!-- First Name -->
                <div class="form-group row">
                    <label for="" class="col-sm-4 col-form-label">First Name:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{firstName}" class="form-control" required="required"
                            maxlength="45" minlength="2">
                    </div>
                </div>
                <!-- Last Name -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Last Name:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{lastName}" class="form-control" required="required"
                            maxlength="45" minlength="2">
                    </div>
                </div>

                <th:block th:if="${customer.authenticationType.name()=='DATABASE'}">
                    <!-- Password -->
                    <div class="form-group row mt-2">
                        <label for="" class="col-sm-4 col-form-label">Password:</label>
                        <div class="col-sm-8">
                            <input type="password" th:field="*{password}" class="form-control" maxlength="15"
                                minlength="6" oninput="checkPasswordMatch(document.getElementById('confirmPassword'))">
                        </div>
                    </div>
                    <!-- Re-type Password -->
                    <div class="form-group row mt-2">
                        <label for="" class="col-sm-4 col-form-label">Re-type Password:</label>
                        <div class="col-sm-8">
                            <input type="password" id="confirmPassword" class="form-control"
                                oninput="checkPasswordMatch(this)" maxlength="15" minlength="6">
                        </div>
                    </div>
                </th:block>
                <!-- Phone Number -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Phone Number:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{phoneNumber}" class="form-control" required="required"
                            maxlength="15" minlength="8">
                    </div>
                </div>
                <!-- Address Line 1 -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Address Line 1:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{addressLine1}" class="form-control" required="required"
                            maxlength="64" minlength="3">
                    </div>
                </div>
                <!-- Address Line 2 -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Address Line 2:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{addressLine2}" class="form-control" maxlength="64" minlength="3">
                    </div>
                </div>
                <!-- City -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">City:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{city}" class="form-control" maxlength="64" minlength="3">
                    </div>
                </div>
                <!-- Country -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Country:</label>
                    <div class="col-sm-8">
                        <select name="" id="" class="form-control" th:field="*{country}">
                            <th:block th:each=" country: ${listCountries}">
                                <option th:value="${country.id}">[[${country.name}]]</option>
                            </th:block>
                        </select>
                    </div>
                </div>
                <!-- State/Province -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">State/Province:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{state}" class="form-control" list="listStates" maxlength="45"
                            minlength="3">
                        <datalist id="listStates"></datalist>
                    </div>
                </div>
                <!-- Postal Code -->
                <div class="form-group row mt-2">
                    <label for="" class="col-sm-4 col-form-label">Postal Code:</label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{postalCode}" class="form-control" maxlength="10" minlength="3">
                    </div>
                </div>
                <br>
                <div class="text-center">
                    <input type="submit" value="Update Account" class="btn btn-primary">
                </div>
            </div>
        </form>

        <div th:replace="fragments::modal_dialog"></div>

        <div th:replace="navigation::footer_menu"></div>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
            integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
            </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
            integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
            </script>
        <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
        <script type="text/javascript">
            contextPath = "[[@{/}]]";
        </script>
        <script th:src="@{/js/common_customer_form.js}"></script>
</body>

</html>


