<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments::page_head(${pageTitle},'none')"> </head>

<body>
    <div class="container-fluid text-center">
        <!-- menu -->
        <div th:replace="navigation::head_menu"></div>

        <h1>Reset Your Password</h1>

        <form th:action="@{/reset_password}" method="post" style="max-width: 420px; margin: 0 auto;">
            <input type="hidden" th:value="${token}" name="token">
            <div class="border border-secondary rounded p-3">
                <div>
                    <p>
                        <input type="password" class="form-control" name="password" id="password" placeholder="Enter your new password" minlength="8"
                            maxlength="15" required autofocus oninput="checkPasswordMatch(document.getElementById('confirmPassword'))">
                    </p>
                </div>
                <div>
                    <p>
                        <input type="password" class="form-control" id="confirmPassword" oninput="checkPasswordMatch(this)" placeholder="Confirm your new password" minlength="8" maxlength="15"
                            required autofocus>
                    </p>
                </div>
                <div>
                    <input type="submit" class="btn btn-primary" value="Change Password">
                </div>
            </div>
        </form>
        <br>
        <div th:replace="navigation::footer_menu"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>
    <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
    <script>
        function checkPasswordMatch(confirmPassword) {
            //kiểm tra trường password và confirmPassword có giống nhau không
            if (confirmPassword.value != $("#password").val()) {
                //hiển thị thông báo mật khẩu không giống nhau
                confirmPassword.setCustomValidity("Passwords do not match!");
            } else {
                confirmPassword.setCustomValidity("");
            }
            console.log(confirmPassword + " " + $("#password").val());
        }
    </script>
</body>

</html>


