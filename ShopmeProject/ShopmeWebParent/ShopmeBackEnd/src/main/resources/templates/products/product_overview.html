<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<body>
  <div th:fragment="content" th:remove="tag">
    <!-- name -->
    <div class="form-group row mt-2 mb-2">
      <label for="name" class="col-sm-2 col-form-label">Product Name:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="name" th:field="*{name}"
          th:disabled="${#authorization.expression('hasAuthority(''Selesperson'')')}" required minlength="3"
          maxlength="256" />
      </div>
    </div>
    <!-- alias -->
    <div class="form-group row mb-2">
      <label for="alias" class="col-sm-2 col-form-label">Alias:</label>
      <div class="col-sm-10">
        <input type="text" placeholder="Default is product name (spaces are replaced by dashes)"
          th:disabled="${#authorization.expression('hasAuthority(''Selesperson'')')}" class="form-control" id="alias"
          th:field="*{alias}" minlength="3" maxlength="256" />
      </div>
    </div>
    <!-- brand -->
    <div class="form-group row mb-2">
      <label for="brand" class="col-sm-2 col-form-label">Brand:</label>
      <div class="col-sm-10">
        <th:block sec:authorize="hasAnyAuthority('Admin','Editor')">

          <select class="form-select" th:field="*{brand}" required aria-label="Default select example">
            <th:block th:each="brand : ${listBrands}">
              <option th:value="${brand.id}">[[${brand.name}]]</option>
            </th:block>
          </select>
        </th:block>
        <th:block sec:authorize="hasAuthority('Selesperson')">
          <input type="text " class="form-control" th:value="${product.brand.name}" disabled>
        </th:block>
      </div>
    </div>
    <!-- category -->
    <div class="form-group row mb-2">
      <label for="category" class="col-sm-2 col-form-label">Category:</label>
      <div class="col-sm-10">
        <th:block sec:authorize="hasAnyAuthority('Admin','Editor')">

          <!-- hiển thị danh sách category của form update -->
          <th:block th:if="${product.category != null}">
            <select class="form-select" name="category" th:field="*{category}" id="category" required
              aria-label="Default select example">
              <th:block th:each=" cat: ${product.brand.categories}">
                <option th:value="${cat.id}">[[${cat.name}]]</option>
              </th:block>
            </select>
          </th:block>
          <!-- hiển thị danh sách category của form create -->
          <th:block th:if="${product.category == null}">
            <select class="form-select" name="category" th:field="*{category}" id="category" required
              aria-label="Default select example"></select>
          </th:block>
        </th:block>
        <th:block sec:authorize="hasAnyAuthority('Selesperson')">
          <input type="text" class="form-control" th:value="${product.category.name}" disabled>
        </th:block>
      </div>
    </div>
    <!-- Enabled -->
    <div class="form-group row mb-2">
      <label for="enabled" class="col-sm-2 col-form-label">Enabled:</label>
      <div class="col-sm-10">
        <input th:disabled="${#authorization.expression('hasAuthority(''Selesperson'')')}" type="checkbox" id="enabled"
          th:field="*{enabled}" />
      </div>
    </div>
    <!-- In-Stock -->
    <div class="form-group row mb-2">
      <label for="inStock" class="col-sm-2 col-form-label">In-Stock:</label>
      <div class="col-sm-10">
        <input type="checkbox" th:disabled="${#authorization.expression('hasAuthority(''Selesperson'')')}" id="inStock"
          th:field="*{inStock}" />
      </div>
    </div>
    <!-- cost -->
    <div class="form-group row mb-2">
      <label for="cost" class="col-sm-2 col-form-label">Cost:</label>
      <div class="col-sm-10">
        <input class="form-control" type="number" id="cost" th:field="*{cost}" />
      </div>
    </div>
    <!-- price -->
    <div class="form-group row mb-2">
      <label for="price" class="col-sm-2 col-form-label">Price:</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="price" th:field="*{price}" />
      </div>
    </div>
    <!-- Discount -->
    <div class="form-group row mb-2">
      <label for="discount" class="col-sm-2 col-form-label">Discount:</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="discount" th:field="*{discountPercent}" />
      </div>
    </div>
  </div>
</body>

</html>