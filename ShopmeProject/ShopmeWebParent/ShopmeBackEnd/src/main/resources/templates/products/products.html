<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

</html>

<head th:replace="fragments::page_head('Manage Products')"></head>

<body>
    <div class="container-fluid">
        <main>
            <!-- menu -->
            <div th:replace="navigation::menu"></div>
            <!-- title -->
            <div th:replace="fragments::downfile('Manage Products','/products/')"></div>
            <!-- form -->
            <div th:replace="fragments::search_form('/products/page/1')"></div>
            <div th:if="${message!=null}" class="alert alert-success text-center">
                [[${message}]]
            </div>

            <table class="table table-striped table-inverse table-responsive">
                <thead class="thead-inverse">
                    <tr>
                        <th>Product ID</th>
                        <th>Main Image</th>
                        <th>Product Name</th>
                        <th>Brand</th>
                        <th>Category</th>
                        <th>Alias</th>
                        <th>Enabled</th>

                    </tr>
                </thead>
                <tbody>
                    <tr th:each=" product: ${listProducts}">
                        <td scope="row">[[${product.id}]]</td>
                        <td></td>
                        <td>[[${product.name}]]</td>
                        <td>[[${product.brand.name}]]</td>
                        <td>[[${product.category.name}]]</td>
                        <td>[[${product.alias}]]</td>
                        <td th:replace="fragments::status(${product.enabled},'/products/edit/'+${product.id},product)">

                        </td>
                        <td>
                            <a class="fas fa-file-alt fa-2xl icon-green" th:href="@{'/products/detail/'+${product.id}}" title="View details of the product"></a>
                            | <span th:replace="fragments::edit('product','/products/edit/'+${product.id})"></span>|<span
                                th:replace="fragments::delete('product','/products/delete/'+${product.id},${product.id},true)"></span>
                        </td>
                    </tr>

                </tbody>
            </table>
            <!-- Modal -->
        <div th:replace="./fragments/fragment_modal::confirm_modal"></div>
        </main>
    </div>
    <div th:replace="fragments::footer"></div>
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous">
        </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous">
        </script>
         <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
         <script type="text/javaScript" th:src="@{/js/common.js}"></script>
         <script type="text/javaScript">
     
             moduleURL = "[[@{/brands}]]";
        
             $(document).ready(function(){
                 $(".link-delete").on("click",function(e){
                     e.preventDefault();
                     showDeleteConfirmModal($(this),'brand')
                 });
             });
     
         </script>
</body>

</html>